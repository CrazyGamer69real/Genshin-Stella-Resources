; Noelle by Nerujikan

; All the changes that a modification brings: 
; - new hair
; - added cat ears
; - slightly shortened skirt
;
; Changelog
; 1.0.1
; - slightly improved physics of hair and ears
;
; 1.0.2
; - changeable hairstyle :yay:
;   toggle key is [alt + n]
;
; 1.0.3
; - finally fixed the outlines 
;
; Constants ---------------------------

[Constants]
global persist $swapvar = 0
global $active
global $creditinfo = 0

[KeySwap]
condition = $active == 1
; key = alt n
type = cycle
$swapvar = 0,1
$creditinfo = 0

[Present]
post $active = 0

; Shader ------------------------------

; Overrides ---------------------------

[TextureOverrideNoellePosition]
hash = d1384d15
run = CommandListNoellePosition
$active = 1

[TextureOverrideNoelleBlend]
hash = 1517291d
run = CommandListNoelleBlend

[TextureOverrideNoelleTexcoord]
hash = 8f1eff2c
run = CommandListNoelleTexcoord

[TextureOverrideNoelleVertexLimitRaise]
hash = 57128011

[TextureOverrideNoelleIB]
hash = a4241241
run = CommandListNoelleIB

[TextureOverrideNoelleHead]
hash = a4241241
match_first_index = 0
run = CommandListNoelleHead

[TextureOverrideNoelleBody]
hash = a4241241
match_first_index = 12915
run = CommandListNoelleBody

[TextureOverrideNoelleDress]
hash = a4241241
match_first_index = 47910
run = CommandListNoelleDress

[TextureOverrideNoelleFaceHeadDiffuse]
hash = 355f2735
run = CommandListNoelleFaceHeadDiffuse

; CommandList -------------------------

[CommandListNoellePosition]
if $swapvar == 0
	vb0 = ResourceNoellePosition.0
else if $swapvar == 1
	vb0 = ResourceNoellePosition.1
endif

[CommandListNoelleBlend]
if $swapvar == 0
	vb1 = ResourceNoelleBlend.0
	handling = skip
	draw = 17257,0
else if $swapvar == 1
	vb1 = ResourceNoelleBlend.1
	handling = skip
	draw = 24480,0
endif

[CommandListNoelleTexcoord]
if $swapvar == 0
	vb1 = ResourceNoelleTexcoord.0
else if $swapvar == 1
	vb1 = ResourceNoelleTexcoord.1
endif

[CommandListNoelleIB]
if $swapvar == 0
	handling = skip
	drawindexed = auto
else if $swapvar == 1
	handling = skip
	drawindexed = auto
endif

[CommandListNoelleHead]
if $swapvar == 0
	ib = ResourceNoelleHeadIB.0
	ps-t0 = ResourceNoelleHeadDiffuse.0
	ps-t1 = ResourceNoelleHeadLightMap.0
else if $swapvar == 1
	ib = ResourceNoelleHeadIB.1
	ps-t0 = ResourceNoelleHeadDiffuse.1
	ps-t1 = ResourceNoelleHeadLightMap.1
endif

[CommandListNoelleBody]
if $swapvar == 0
	ib = ResourceNoelleBodyIB.0
	ps-t0 = ResourceNoelleBodyDiffuse.0
	ps-t1 = ResourceNoelleBodyLightMap.0
else if $swapvar == 1
	ib = ResourceNoelleBodyIB.1
	ps-t0 = ResourceNoelleBodyDiffuse.1
	ps-t1 = ResourceNoelleBodyLightMap.1
endif

[CommandListNoelleDress]
if $swapvar == 0
	ib = ResourceNoelleDressIB.0
	ps-t0 = ResourceNoelleDressDiffuse.0
	ps-t1 = ResourceNoelleDressLightMap.0
else if $swapvar == 1
	ib = ResourceNoelleDressIB.1
	ps-t0 = ResourceNoelleDressDiffuse.1
	ps-t1 = ResourceNoelleDressLightMap.1
endif

[CommandListNoelleFaceHeadDiffuse]
if $swapvar == 0
	ps-t0 = ResourceNoelleFaceHeadDiffuse.0
else if $swapvar == 1
	ps-t0 = ResourceNoelleFaceHeadDiffuse.1
endif

; Resources ---------------------------

[ResourceNoellePosition.0]
type = Buffer
stride = 40
filename = .\NekoNoelle\NoellePosition.buf

[ResourceNoelleBlend.0]
type = Buffer
stride = 32
filename = .\NekoNoelle\NoelleBlend.buf

[ResourceNoelleTexcoord.0]
type = Buffer
stride = 20
filename = .\NekoNoelle\NoelleTexcoord.buf

[ResourceNoelleHeadIB.0]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\NekoNoelle\NoelleHead.ib

[ResourceNoelleBodyIB.0]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\NekoNoelle\NoelleBody.ib

[ResourceNoelleDressIB.0]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\NekoNoelle\NoelleDress.ib

[ResourceNoelleHeadDiffuse.0]
filename = .\NekoNoelle\NoelleHeadDiffuse.dds

[ResourceNoelleHeadLightMap.0]
filename = .\NekoNoelle\NoelleHeadLightMap.dds

[ResourceNoelleBodyDiffuse.0]
filename = .\NekoNoelle\NoelleBodyDiffuse.dds

[ResourceNoelleBodyLightMap.0]
filename = .\NekoNoelle\NoelleBodyLightMap.dds

[ResourceNoelleDressDiffuse.0]
filename = .\NekoNoelle\NoelleDressDiffuse.dds

[ResourceNoelleDressLightMap.0]
filename = .\NekoNoelle\NoelleDressLightMap.dds

[ResourceNoelleFaceHeadDiffuse.0]
filename = .\NekoNoelle\NoelleFaceHeadDiffuse.dds

[ResourceNoellePosition.1]
type = Buffer
stride = 40
filename = .\NekoNoelle2\NoellePosition.buf

[ResourceNoelleBlend.1]
type = Buffer
stride = 32
filename = .\NekoNoelle2\NoelleBlend.buf

[ResourceNoelleTexcoord.1]
type = Buffer
stride = 20
filename = .\NekoNoelle2\NoelleTexcoord.buf

[ResourceNoelleHeadIB.1]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\NekoNoelle2\NoelleHead.ib

[ResourceNoelleBodyIB.1]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\NekoNoelle2\NoelleBody.ib

[ResourceNoelleDressIB.1]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\NekoNoelle2\NoelleDress.ib

[ResourceNoelleHeadDiffuse.1]
filename = .\NekoNoelle2\NoelleHeadDiffuse.dds

[ResourceNoelleHeadLightMap.1]
filename = .\NekoNoelle2\NoelleHeadLightMap.dds

[ResourceNoelleBodyDiffuse.1]
filename = .\NekoNoelle2\NoelleBodyDiffuse.dds

[ResourceNoelleBodyLightMap.1]
filename = .\NekoNoelle2\NoelleBodyLightMap.dds

[ResourceNoelleDressDiffuse.1]
filename = .\NekoNoelle2\NoelleDressDiffuse.dds

[ResourceNoelleDressLightMap.1]
filename = .\NekoNoelle2\NoelleDressLightMap.dds

[ResourceNoelleFaceHeadDiffuse.1]
filename = .\NekoNoelle2\NoelleFaceHeadDiffuse.dds



; .ini generated by GIMI (Genshin-Impact-Model-Importer) mod merger script
; If you have any issues or find any bugs, please open a ticket at https://github.com/SilentNightSound/GI-Model-Importer/issues or contact SilentNightSound#7430 on discord